model:
  class_path: nablafx.system.BlackBoxSystem
  init_args:
    lr: 0.001
    log_media_every_n_steps: 1000

    model:
      class_path: nablafx.models.BlackBoxModel
      init_args:
        processor:
          class_path: nablafx.tcn.TCN
          init_args:
            num_inputs: 1
            num_outputs: 1
            num_controls: 0
            num_blocks: 11
            kernel_size: 7
            dilation_growth: 2
            channel_width: 16
            channel_growth: 1
            stack_size: 12
            groups: 1
            bias: true
            causal: true
            batchnorm: false # active only when cond_type = None
            residual: true
            direct_path: false
            cond_type: tvfilm # null, film, tfilm, tvfilm
            cond_block_size: 128 # block size for tfilm or tvfilm
            cond_num_layers: 1 # number of lstm layers for tfilm or tvfilm
            act_type: tanh # tanh, prelu, rational

    loss:
      class_path: nablafx.loss.WeightedMultiLoss
      init_args:
        losses:
          - loss:
              class_path: torch.nn.L1Loss
            weight: 10.0
            name: "l1"
          - loss:
              class_path: auraloss.freq.MultiResolutionSTFTLoss
            weight: 1.0
            name: "mrstft"
